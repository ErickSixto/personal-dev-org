<!--
  @description       : 
  @author            : ErickSixto
  @group             : 
  @last modified on  : 01-25-2022
  @last modified by  : ErickSixto
-->
<template>
  <div class="lookup-container">
    <c-lookup
      if:false={sobject}
      class="custom-lookup object-lookup"
      errors={errors}
      onsearch={handleObjectSearch}
      onselectionchange={handleObjectSelectionChange}
      label="Object"
      placeholder="Search for an Object"
    >
    </c-lookup>
    <c-lookup
      if:true={sobject}
      class="custom-lookup record-lookup"
      errors={errors}
      onsearch={handleLookupSearch}
      onselectionchange={handleLookupSelectionChange}
      onclear={handleRecordClear}
      label={objectLabel}
      placeholder="Search Records..."
    >
    </c-lookup>
    <div if:true={sobject} class="icon-btn-container">
      <lightning-button-icon
        class="icon-btn"
        variant="bare"
        size="medium"
        icon-name="utility:clear"
        onclick={handleClear}
        alternative-text="Reset"
      ></lightning-button-icon>
      <c-es-button-icon-popover
        class="icon-btn"
        variant="bare"
        icon-name="utility:setup"
        tooltip="Setup"
        popover-size="small"
        size="medium"
        placement="bottom-left"
      >
        <p slot="title" class="slds-text-heading_small">
          <b>Setup Unique Field</b>
        </p>
        <label for="uniqueField">Unique Field</label>
        <select
          class="slds-select"
          id="uniqueField"
          onchange={handleSelectedUniqueField}
        >
          <template for:each={uniqueFields} for:item="field">
            <option key={field.apiName} value={field.apiName}>
              {field.label}
            </option>
          </template>
        </select>
        <lightning-input
          label="Value"
          value={uniqueFieldValue}
          type="text"
          disabled
        ></lightning-input>
      </c-es-button-icon-popover>
    </div>
  </div>
</template>
