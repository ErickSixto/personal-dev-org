<!--
  @description       : Warehouse Projections Report
  @author            : ssuddula@walkerdunlop.com
-->
<template>
  <lightning-card
    title="CLOSING/WAREHOUSE PROJECTIONS"
    icon-name="custom:custom63"
  >
    <lightning-button
      label="7 Day Balance Projection"
      variant="brand-outline"
      title="7 Day Balance Projection"
      data-name="Init"
      onclick={handleGetBalance}
      class="slds-m-left_x-small"
    ></lightning-button>
    <lightning-button
      label="30 Day Balance Projection"
      variant="brand-outline"
      title="30 Day Balance Projection"
      data-name="Init"
      onclick={handleGetBalance30}
      class="slds-m-left_x-small"
    ></lightning-button>
    <lightning-button
      label="Active Fundings"
      variant="brand-outline"
      title="Active Fundings"
      data-name="Init"
      onclick={handleFundingReport}
      class="slds-m-left_x-small"
    ></lightning-button>
    <div class="slds-m-around_medium">
      <!--
        <template if:true={data}>
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-11">
              <lightning-datatable
                            data={dataWH}
                            columns={columnsWH}
                            hide-checkbox-column="true"
                            key-field="resultId"
                            show-row-number-column="true"
                            onrowaction={handleGetBalanceBal}
                            min-column-width="100"
                            column-widths-mode="auto"
                            onsave ={handleSave}>              
              </lightning-datatable>
            </div>       
      </template>
-->

      <!--
      onvaluechange={handleValueChange}
      oncellchange={handleCellChange} 
      data-record="Id"
      onedit={handleEdit}
      oncancel={handleCancel}
-->
      <template if:true={data}>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-11"
        >
          <c-c-datatable
            key-field="resultId"
            data={dataWH}
            columns={columnsWH}
            onsave={handleSave}
            hide-checkbox-column="true"
            show-row-number-column="true"
            onrowaction={handleGetBalanceBal}
            min-column-width="100"
            column-widths-mode="auto"
          >
          </c-c-datatable>
        </div>
      </template>

      <template if:true={showModal}>
        <section
          role="dialog"
          tabindex="-1"
          class="slds-modal slds-fade-in-open slds-modal_large"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
        >
          <div class="slds-modal__container">
            <header class="slds-modal__header">
              <!-- if:true={showModel}-->
              <lightning-button
                label="Previous 7 Days"
                data-name="Prev"
                title="Non-primary action"
                onclick={handleGetBalance}
                class="slds-m-left_x-small"
              ></lightning-button>
              <lightning-button
                label="Next 7 Days"
                data-name="Next"
                title="Non-primary action"
                onclick={handleGetBalance}
                class="slds-m-left_x-small"
              ></lightning-button>
              <lightning-button-icon
                icon-name="utility:close"
                class="slds-float_right"
                onclick={closeModal}
                alternative-text="close"
              ></lightning-button-icon>
              <h2
                id="modal-heading-01"
                class="slds-modal__title slds-hyphenate"
              >
                WH Lender Available Balance
              </h2>
            </header>
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-1"
            >
              <lightning-datatable
                data={data}
                columns={columns}
                key-field="resultId"
              >
              </lightning-datatable>
            </div>
            <footer class="slds-modal__footer">
              <lightning-button
                variant="neutral"
                label="Close"
                title="Close"
                onclick={closeModal}
                class="slds-m-left_x-small"
              ></lightning-button>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
      <template if:true={showModalBal}>
        <section
          role="dialog"
          tabindex="-1"
          class="slds-modal slds-fade-in-open slds-modal_medium"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
        >
          <div class="slds-modal__container">
            <header class="slds-modal__header">
              <!-- if:true={showModel}-->
              <lightning-button-icon
                icon-name="utility:close"
                class="slds-float_right"
                onclick={closeModalBal}
                alternative-text="close"
              ></lightning-button-icon>
              <h2
                id="modal-heading-02"
                class="slds-modal__title slds-hyphenate"
              >
                WH Lender Available Balance
              </h2>
            </header>
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-2"
            >
              <lightning-datatable
                data={dataBal}
                columns={columnsBal}
                hide-checkbox-column
                key-field="resultId"
              >
              </lightning-datatable>
            </div>
            <footer class="slds-modal__footer">
              <lightning-button
                variant="neutral"
                label="Close"
                title="Close"
                onclick={closeModalBal}
                class="slds-m-left_x-small"
              ></lightning-button>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>

      <template if:true={showModal30}>
        <section
          role="dialog"
          tabindex="-1"
          class="slds-modal slds-fade-in-open slds-modal_large"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
        >
          <div class="slds-modal__container">
            <header class="slds-modal__header">
              <!-- if:true={showModel}-->
              <lightning-button
                label="Previous 30 Days"
                data-name="Prev"
                title="Non-primary action"
                onclick={handleGetBalance30}
                class="slds-m-left_x-small"
              ></lightning-button>
              <lightning-button
                label="Next 30 Days"
                data-name="Next"
                title="Non-primary action"
                onclick={handleGetBalance30}
                class="slds-m-left_x-small"
              ></lightning-button>
              <lightning-button-icon
                icon-name="utility:close"
                class="slds-float_right"
                onclick={closeModal30}
                alternative-text="close"
              ></lightning-button-icon>
              <h2
                id="modal-heading-03"
                class="slds-modal__title slds-hyphenate"
              >
                WH Lender Available Balance
              </h2>
            </header>
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-3"
            >
              <lightning-datatable
                data={data30}
                columns={columns30}
                key-field="resultId"
                sortable="false"
                editable="false"
                min-column-width="80"
                hide-checkbox-column
              >
              </lightning-datatable>
            </div>
            <footer class="slds-modal__footer">
              <lightning-button
                variant="neutral"
                label="Close"
                title="Close"
                onclick={closeModal30}
                class="slds-m-left_x-small"
              ></lightning-button>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </div>
  </lightning-card>
</template>
